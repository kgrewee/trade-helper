<h2>Positions</h2>
<div class="widget-container">
    <mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>
    <div class="table-container">
        <table mat-table [dataSource]="filteredAndPagedItems" class="table" matSort matSortDisableClear matSortDirection="desc" (matSortChange)="resetPaging()">

            <ng-container matColumnDef="symbol">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Symbol</th>
                <td mat-cell *matCellDef="let row">{{row.symbol}}</td>
            </ng-container>

            <ng-container matColumnDef="exchange">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Exchange</th>
                <td mat-cell *matCellDef="let row">{{row.exchange}}</td>
            </ng-container>

            <ng-container matColumnDef="assetClass">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
                    Asset Class
                </th>
                <td mat-cell *matCellDef="let row">{{row.assetClass}}</td>
            </ng-container>

            <ng-container matColumnDef="avgEntryPrice">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
                    Average Entry Price
                </th>
                <td mat-cell *matCellDef="let row">{{row.avgEntryPrice}}</td>
            </ng-container>

            <ng-container matColumnDef="qty">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Quantity</th>
                <td mat-cell *matCellDef="let row">{{row.qty}}</td>
            </ng-container>

            <ng-container matColumnDef="side">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Side</th>
                <td mat-cell *matCellDef="let row">{{row.side}}</td>
            </ng-container>

            <ng-container matColumnDef="marketValue">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Market Value</th>
                <td mat-cell *matCellDef="let row">{{row.marketValue}}</td>
            </ng-container>

            <ng-container matColumnDef="costBasis">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Cost Basis</th>
                <td mat-cell *matCellDef="let row">{{row.costBasis}}</td>
            </ng-container>

            <ng-container matColumnDef="unrealizedPl">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Unrealized Pl</th>
                <td mat-cell *matCellDef="let row">{{row.unrealizedPl}}</td>
            </ng-container>

            <ng-container matColumnDef="unrealizedPlpc">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Unrealized Plpc</th>
                <td mat-cell *matCellDef="let row">{{row.unrealizedPlpc}}</td>
            </ng-container>

            <ng-container matColumnDef="unrealizedIntradayPl">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Unrealized Intraday Pl</th>
                <td mat-cell *matCellDef="let row">{{row.unrealizedIntradayPl}}</td>
            </ng-container>

            <ng-container matColumnDef="unrealizedIntradayPlpc">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Unrealized Intraday Plpc</th>
                <td mat-cell *matCellDef="let row">{{row.unrealizedIntradayPlpc}}</td>
            </ng-container>

            <ng-container matColumnDef="currentPrice">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Current Price</th>
                <td mat-cell *matCellDef="let row">{{row.currentPrice}}</td>
            </ng-container>

            <ng-container matColumnDef="lastdayPrice">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Last Day Price</th>
                <td mat-cell *matCellDef="let row">{{row.lastdayPrice}}</td>
            </ng-container>

            <ng-container matColumnDef="changeToday">
                <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Change Today</th>
                <td mat-cell *matCellDef="let row">{{row.changeToday}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>

    <mat-paginator class="paginator" [length]="resultsLength" [pageSize]="15"></mat-paginator>
</div>